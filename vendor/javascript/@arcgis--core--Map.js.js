// @arcgis/core/Map.js@4.31.6 downloaded from https://ga.jspm.io/npm:@arcgis/core@4.31.6/Map.js

import{r}from"./_/QHfF4pX5.js";import{F as o}from"./_/CyRJeaBv.js";import e from"./Ground.js";import{b as s}from"./_/BoFuM0kD.js";import{n as i}from"./_/P-5DOupX.js";import p from"./core/Evented.js";import{a}from"./_/BEdENQzl.js";import{m}from"./_/C2XjA-Gj.js";import{s as l}from"./_/CPABWpsF.js";import"./_/BkZHn0Y_.js";import{a as n}from"./_/BQWMDH1W.js";import{e as j}from"./_/DZHTbjg7.js";import{y as _,m as d,b as y}from"./_/D1nkyft7.js";import{n as c,l as u,t as g}from"./_/-iXCxpch.js";import{n as h}from"./_/ABz3CkQk.js";import{w as f}from"./_/Divko1wW.js";import"./_/BKCa2xQZ.js";import"./config.js";import"./kernel.js";import"./_/p2LlcRHt.js";import"./core/Error.js";import"./_/S9kJr1Ji.js";import"./_/DQPmzg6D.js";import"./_/b-l7O_jh.js";import"./_/9Af6SQaB.js";import"./core/Warning.js";import"./_/CNieWp68.js";import"./_/Cl791LNZ.js";import"./_/DxkHPlT0.js";import"./_/CSfsRPAq.js";import"./_/CYgJj6VL.js";import"./_/klseYrZ0.js";import"./_/DftsFydx.js";import"./_/DQqjo498.js";import"./_/xSjya11-.js";import"./geometry/SpatialReference.js";import"./_/MG7aHJaG.js";import"./_/CRX9wTak.js";import"./_/Coth6QPX.js";import"./_/CKyNNgBP.js";import"./_/DYGrdJA-.js";import"./_/BZjy9fmF.js";import"./geometry/Geometry.js";import"./_/amTTKQ1v.js";import"./geometry/support/webMercatorUtils.js";import"./_/Dqwj6dpj.js";import"./portal/PortalQueryParams.js";import"./portal/PortalItem.js";import"./_/Dn5pCpTF.js";import"./_/Co8FVh8W.js";import"./_/CL4B2Z99.js";import"./_/Bh0k7714.js";import"./Color.js";import"./_/BG5Izib-.js";import"./_/C-QQZluj.js";import"./_/CmiicMiC.js";import"./_/CbxfB2-X.js";import"./_/DmN5lno_.js";import"./core/reactiveUtils.js";import"./_/C6NkNR2K.js";import"./_/CFhP47ww.js";import"./_/BYbpBv-v.js";import"./_/BlMyBetO.js";import"./_/C3ZPXkOC.js";import"./_/h-c8ffju.js";import"./layers/Layer.js";import"./geometry.js";import"./geometry/Multipoint.js";import"./_/CSYuQcyR.js";import"./_/D1UK2eWG.js";import"./_/D9mB_eQ0.js";import"./_/BHqijh2H.js";import"./geometry/Polyline.js";import"./geometry/support/jsonUtils.js";import"./_/3CePNIM0.js";import"./_/DLyF0bei.js";import"./_/DSZ47W7v.js";import"./_/CF41pbN9.js";import"luxon";const b={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function t(r){let o=null;if("string"==typeof r)if(r in b){const s=b[r];o=new e({resourceInfo:{data:{layers:[s]}}})}else h.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${r}. Try "world-elevation"`);else o=f(e,r);return o}let v=class extends(c(u(p.EventedMixin(s)))){constructor(r){super(r),this.allLayers=new i({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:r=>"layers"in r?r.layers:null}),this.allTables=g(this),this.basemap=null,this.editableLayers=new i({getCollections:()=>[this.allLayers],itemFilterFunction:j}),this.ground=new e,this._basemapCache=_()}destroy(){d(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=a(this.basemap),a(this.ground),this._set("ground",null)}castBasemap(r){return y(r,this._basemapCache)}castGround(r){const o=t(r);return o??this._get("ground")}findLayerById(r){return this.allLayers.find((o=>o.id===r))}findTableById(r){return this.allTables.find((o=>o.id===r))}};r([m({readOnly:!0,dependsOn:[]})],v.prototype,"allLayers",void 0),r([m({readOnly:!0})],v.prototype,"allTables",void 0),r([m({type:o,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],v.prototype,"basemap",void 0),r([l("basemap")],v.prototype,"castBasemap",null),r([m({readOnly:!0})],v.prototype,"editableLayers",void 0),r([m({type:e,nonNullable:!0})],v.prototype,"ground",void 0),r([l("ground")],v.prototype,"castGround",null),r([m()],v.prototype,"undoRedo",void 0),v=r([n("esri.Map")],v);const L=v;export{L as default};

